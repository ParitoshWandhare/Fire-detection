# Optimized Data Configuration - Target: F1 96%+, IoU 92%+
data:
  # Raw data paths
  raw_data_dir: "data/raw"
  metadata_csv: "data/raw/WorldView Metadata - Sheet1.csv"
  images_base_dir: "data/raw/forest_fire_dataset"
  
  # Processed data paths
  interim_dir: "data/interim"
  processed_dir: "data/processed"
  masks_dir: "data/interim/masks"
  tiles_dir: "data/interim/tiles"
  
  # Image specifications
  image_format: "png" 
  original_size: [3800,3400]  # Alberta[2753,1453] , BritishColumbia[2929,3665] , NovaScotia[961,1186] , Ontario[3800,3400] , Quebec[4403,3350] , The NorthWest Territories[4706,3036]
  
  # Coordinate Reference System
  crs: "EPSG:4326"
  
  # Optimized tiling configuration
  tile_size: 512
  tile_overlap: 96        # Increased from 64 for better context
  min_fire_pixels: 5      # Reduced from 10 to include more fire samples
  
  # Data splits - slightly adjusted
  train_ratio: 0.75       # Increased from 0.7 for more training data
  val_ratio: 0.15         # Reduced from 0.2
  test_ratio: 0.10        # Kept same
  
  # States/regions to process
  states: ["Ontario", "Quebec", "Alberta", "BritishColumbia", "NovaScotia", "The NorthWest Territories"]
  
  # Date range
  date_range:
    start: "2023-06-01"
    end: "2023-06-30"
    
  # Optimized fire detection parameters
  fire_detection:
    method: "auto"
    rgb_thresholds:
      red_threshold: 110        # Slightly lower for sensitivity
      orange_ratio: 0.55        # More permissive
      brightness_threshold: 190  # Lower for edge cases
      green_max: 170           # More permissive
      blue_max: 150            # More permissive
      red_green_contrast: 20   # Lower for sensitivity
      red_blue_contrast: 25    # Lower for sensitivity
      min_fire_area: 1         # Capture smaller fires
    
    # Morphological operations
    noise_removal:
      enabled: true           # Enable for cleaner masks
      kernel_size: 3
      min_component_area: 2
    
  # Enhanced data augmentation for training
  augmentation:
    horizontal_flip: true
    vertical_flip: true
    rotation_90: true
    random_rotation: true     # Added
    color_jitter: true        # Added
    elastic_transform: true   # Added
    
  # Quality control - more permissive
  quality_control:
    max_fire_ratio_per_tile: 0.35    # Increased from 0.30
    expected_fire_tiles_ratio: 0.25  # Increased from 0.20
    min_fire_brightness: 300         # Lowered from 350
    max_fire_brightness: 255         # Max possible
    
  # Performance monitoring
  monitoring:
    log_detection_stats: true
    save_detection_samples: true     # Enable for debugging
    sample_output_dir: "data/interim/detection_samples"
    sample_count: 20                 # Save more samples
    
  # Data loading optimization for 4GB GPU
  loading:
    prefetch_factor: 2
    persistent_workers: true
    pin_memory: true
    num_workers_limit: 2      # Safe for 4GB system
    
  # Cache optimization
  cache:
    enabled: true
    cache_dir: "data/cache"
    max_cache_size_gb: 2      # Limit cache size